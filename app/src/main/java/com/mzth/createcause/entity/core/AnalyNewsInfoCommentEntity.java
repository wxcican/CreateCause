package com.mzth.createcause.entity.core;import android.util.Log;import org.json.JSONArray;import org.json.JSONObject;import java.util.List;/** * Created by Administrator on 2018/1/29 0029. */public class AnalyNewsInfoCommentEntity {    private int status;    private String err_msg;    private List<NewsInfoEntity> mNewsInfoEntityList;    private int page;    private int page_total;    private int total;    public AnalyNewsInfoCommentEntity(JSONObject jsonObject, List<NewsInfoEntity> mNewsInfoEntity) {        if (jsonObject != null && mNewsInfoEntity != null) {            status = jsonObject.optInt("status");            if (status == 1) {                JSONObject mResult = jsonObject.optJSONObject("result");                if (mResult != null) {                    page = mResult.optInt("page");                    page_total = mResult.optInt("page_total");                    total = mResult.optInt("total");                    if(total!=10){                    JSONArray list = mResult.optJSONArray("list");                    if (mNewsInfoEntity.size() > 2) {                        mNewsInfoEntity.remove(mNewsInfoEntity.size() - 1);                        mNewsInfoEntity.remove(mNewsInfoEntity.size() - 1);                    }                    for (int i = 0; i < list.length(); i++) {                        JSONObject mJsonObject = list.optJSONObject(i);                        NewsInfoEntity mCommentNewsInfoEntity = new NewsInfoEntity(NewsInfoEntity.TYPE_COMMEND);                        //评论ID                        mCommentNewsInfoEntity.setCommentId(mJsonObject.optString("id"));                        //评论用户ID                        mCommentNewsInfoEntity.setCommentUserId(mJsonObject.optString("user_id"));                        //评论用户头像                        mCommentNewsInfoEntity.setCommentImg(mJsonObject.optString("avatar"));                        //评论用户昵称                        mCommentNewsInfoEntity.setCommentName(mJsonObject.optString("nick_name"));                        //评论时间                        mCommentNewsInfoEntity.setCommentTime(mJsonObject.optString("add_time"));                        //评论点赞数                        mCommentNewsInfoEntity.setCommentGoodNum(mJsonObject.optString("zan_num"));                        //评论内容                        mCommentNewsInfoEntity.setCommentContent(mJsonObject.optString("content"));                        //是否点赞                        mCommentNewsInfoEntity.setCommentGood(mJsonObject.optInt("is_good"));                        //评论回复数据                        JSONArray replyJsonArray = mJsonObject.optJSONArray("children");                        if (replyJsonArray == null) {                            //评论回复量                            mCommentNewsInfoEntity.setCommentReplyNum("0");                            mNewsInfoEntity.add(mCommentNewsInfoEntity);                        } else {                            mCommentNewsInfoEntity.setCommentReplyNum(replyJsonArray.length() + "");                            mNewsInfoEntity.add(mCommentNewsInfoEntity);                            for (int j = 0; j < replyJsonArray.length(); j++) {                                JSONObject RepluJsonObject = replyJsonArray.optJSONObject(j);                                NewsInfoEntity mRepluNewsInfoEntity = new NewsInfoEntity(NewsInfoEntity.TYPE_REPLY);                                mRepluNewsInfoEntity.setReplyId(RepluJsonObject.optString("id"));                                mRepluNewsInfoEntity.setReplyCommentId(RepluJsonObject.optString("comment_id"));                                mRepluNewsInfoEntity.setReplyUserId(RepluJsonObject.optString("user_id"));                                mRepluNewsInfoEntity.setReplyName(RepluJsonObject.optString("user_name"));                                mRepluNewsInfoEntity.setReplyContent(RepluJsonObject.optString("content"));                                mRepluNewsInfoEntity.setReplyToUserID(RepluJsonObject.optString("to_user_id", "0"));                                mRepluNewsInfoEntity.setReplyToUserName(RepluJsonObject.optString("to_user_name", ""));                                mNewsInfoEntity.add(mRepluNewsInfoEntity);                            }                        }                    }                    if ((page + 1) < page_total) {                        //更多评论                        NewsInfoEntity moreNewsInfoEntity = new NewsInfoEntity(NewsInfoEntity.TYPE_MORE);                        moreNewsInfoEntity.setMoreText("查看更多评论");                        mNewsInfoEntity.add(moreNewsInfoEntity);                    } else {                        NewsInfoEntity moreNewsInfoEntity = new NewsInfoEntity(NewsInfoEntity.TYPE_MORE);                        moreNewsInfoEntity.setMoreText("暂无更多评论");                        mNewsInfoEntity.add(moreNewsInfoEntity);                    }                    //编辑按钮                    mNewsInfoEntity.add(new NewsInfoEntity(NewsInfoEntity.TYPE_EDIT));                    mNewsInfoEntityList = mNewsInfoEntity;                    }else {                        mNewsInfoEntity.get(mNewsInfoEntity.size()-2).setMoreText("暂无更多评论");                        mNewsInfoEntityList = mNewsInfoEntity;                    }                }            } else {                err_msg = jsonObject.optString("err_msg");            }        }    }    public int getStatus() {        return status;    }    public String getErr_msg() {        return err_msg;    }    public List<NewsInfoEntity> getmNewsInfoEntityList() {        return mNewsInfoEntityList;    }}