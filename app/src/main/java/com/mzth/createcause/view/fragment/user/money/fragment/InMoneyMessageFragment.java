package com.mzth.createcause.view.fragment.user.money.fragment;import android.app.Dialog;import android.content.Intent;import android.support.annotation.Nullable;import android.os.Bundle;import android.view.LayoutInflater;import android.view.View;import android.view.ViewGroup;import android.widget.TextView;import com.lzy.okgo.OkGo;import com.lzy.okgo.callback.StringCallback;import com.lzy.okgo.model.Response;import com.lzy.okgo.request.base.Request;import com.mzth.createcause.R;import com.mzth.createcause.base.BaseFragment;import com.mzth.createcause.util.CommonUtil;import com.mzth.createcause.util.ConfigUtil;import com.mzth.createcause.view.fragment.user.money.BuyStockActivity;import com.mzth.createcause.view.fragment.user.money.StockBounsActivity;import com.mzth.createcause.view.fragment.user.money.income.impl.InComeInfoActivity;import com.mzth.createcause.view.fragment.user.money.WithdrawDepositInfoActivity;import com.mzth.createcause.view.fragment.user.money.WithdrawDepositRequestActivity;import org.json.JSONException;import org.json.JSONObject;public class InMoneyMessageFragment extends BaseFragment {    //提现记录    private TextView tv_money_message_in_1;    //提现申请    private TextView tv_money_message_in_2;    //收入明细    private TextView tv_money_message_in_3;    //购买股份    private TextView tv_money_message_in_4;    //股份分红    private TextView tv_money_message_in_5;    private View view;    private Dialog dialog;    private TextView tv_money_message_f_1;    private TextView tv_money_message_f_2;    private TextView tv_money_message_f_3;    @Override    protected void initView() {        tv_money_message_in_1 = CommonUtil.getCommonUtil().bindView(view, R.id.tv_money_message_in_1);        tv_money_message_in_2 = CommonUtil.getCommonUtil().bindView(view, R.id.tv_money_message_in_2);        tv_money_message_in_3 = CommonUtil.getCommonUtil().bindView(view, R.id.tv_money_message_in_3);        tv_money_message_in_4 = CommonUtil.getCommonUtil().bindView(view, R.id.tv_money_message_in_4);        tv_money_message_in_5 = CommonUtil.getCommonUtil().bindView(view, R.id.tv_money_message_in_5);        tv_money_message_f_1 = CommonUtil.getCommonUtil().bindView(view, R.id.tv_money_message_f_1);        tv_money_message_f_2 = CommonUtil.getCommonUtil().bindView(view, R.id.tv_money_message_f_2);        tv_money_message_f_3 = CommonUtil.getCommonUtil().bindView(view, R.id.tv_money_message_f_3);    }    @Override    protected void initSet() {    }    @Override    protected void initAdapter() {    }    @Override    protected void initData() {        OkGo.<String>post(ConfigUtil.PROPERTY_ALL)                .params("user_id", userId)                .params("auth_key", userKey)                .execute(new StringCallback() {                    @Override                    public void onStart(Request<String, ? extends Request> request) {                        super.onStart(request);                        dialog = CommonUtil.getCommonUtil().ejectLaoding(mContext, "正在加载");                    }                    @Override                    public void onError(Response<String> response) {                        super.onError(response);                        CommonUtil.getCommonUtil().toast(ConfigUtil.HINT_OVERTIME);                    }                    @Override                    public void onFinish() {                        super.onFinish();                        if (dialog != null && dialog.isShowing()) {                            dialog.dismiss();                            dialog = null;                        }                    }                    @Override                    public void onSuccess(Response<String> response) {                        try {                            JSONObject mJSONObject=new JSONObject(response.body());                            if(mJSONObject.optInt("status")==1){                                JSONObject result = mJSONObject.optJSONObject("result");                                if(result!=null){                                    String money = result.optString("money");                                    String integral = result.optString("integral");                                    String stock = result.optString("stock");                                    tv_money_message_f_1.setText(money);                                    tv_money_message_f_2.setText(integral);                                    tv_money_message_f_3.setText(stock);                                }                            }else {                                CommonUtil.getCommonUtil().toast(mJSONObject.optString("err_msg"));                            }                        } catch (JSONException e) {                            e.printStackTrace();                        }                    }                });    }    @Override    protected void initListner() {        OnClick mOnClick = new OnClick();        tv_money_message_in_1.setOnClickListener(mOnClick);        tv_money_message_in_2.setOnClickListener(mOnClick);        tv_money_message_in_3.setOnClickListener(mOnClick);        tv_money_message_in_4.setOnClickListener(mOnClick);        tv_money_message_in_5.setOnClickListener(mOnClick);    }    @Override    protected View createView(LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {        view = inflater.inflate(R.layout.activity_in_money_message_fragment, container, false);        return view;    }    private class OnClick implements View.OnClickListener {        @Override        public void onClick(View v) {            Intent mIntent = new Intent();            switch (v.getId()) {                case R.id.tv_money_message_in_1://提现记录                    CommonUtil.getCommonUtil().toast(ConfigUtil.HINT_NO_FINISH);                    /*mIntent.setClass(mContext, WithdrawDepositInfoActivity.class);                    startActivity(mIntent);*/                    break;                case R.id.tv_money_message_in_2://提现申请                    CommonUtil.getCommonUtil().toast(ConfigUtil.HINT_NO_FINISH);                    /*mIntent.setClass(mContext, WithdrawDepositRequestActivity.class);                    startActivity(mIntent);*/                    break;                case R.id.tv_money_message_in_3://收入明细                    mIntent.setClass(mContext, InComeInfoActivity.class);                    startActivity(mIntent);                    break;                case R.id.tv_money_message_in_4://购买股份                    CommonUtil.getCommonUtil().toast(ConfigUtil.HINT_NO_FINISH);                   /* mIntent.setClass(mContext, BuyStockActivity.class);                    startActivity(mIntent);*/                    break;                case R.id.tv_money_message_in_5://股份分红                    CommonUtil.getCommonUtil().toast(ConfigUtil.HINT_NO_FINISH);                   /* mIntent.setClass(mContext, StockBounsActivity.class);                    startActivity(mIntent);*/                    break;            }        }    }}